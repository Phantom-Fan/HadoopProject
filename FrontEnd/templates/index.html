<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Baike Search</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">
    <!-- Main Style -->
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
    <!-- Responsive Style -->
    <link rel="stylesheet" type="text/css" href="../static/css/responsive.css">
    <!--Icon Fonts-->
    <link rel="stylesheet" media="screen" href="../static/fonts/font-awesome/font-awesome.min.css" />
    <!-- Extras -->
    <link rel="stylesheet" type="text/css" href="../static/extras/animate.css">
    <link rel="stylesheet" type="text/css" href="../static/extras/lightbox.css">
    <!-- jQuery Load -->
    <script src="../static/js/jquery-min.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  </head>

<body data-spy="scroll" data-offset="20" data-target="#navbar">
<!-- Nav Menu Section -->
<div class="logo-menu">
<nav class="navbar navbar-default navbar-fixed-top" role="navigation" data-spy="affix" data-offset-top="50">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header col-md-3">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#home"><i class="fa fa-briefcase"></i>BaikeSearch</a>
    </div>

    <div class="collapse navbar-collapse" id="navbar">
                        <ul class="nav navbar-nav col-md-9 pull-right">
                        <li class="active"><a href="#hero-area"><i class="fa fa-home"></i>搜索</a></li>
                        <li><a href="#services"><i class="fa fa-cogs"></i>知识</a></li>
                        <li><a href="#portfolio"><i class="fa fa-flask"></i>图片</a></li>
                        <li><a href="#clients"><i class="fa fa-puzzle-piece"></i>相关链接</a></li>
                        </ul>
    </div>
  </div>
</nav>
</div>
<!-- Nav Menu Section End -->

<!-- 搜索 Area Section -->
<section id="hero-area">
<div class="container">
<div class="row">
<div class="col-md-12">
    <h1 class="title">BaikeSearch</h1>
    <h2 class="subtitle">输入您想要知道的</h2>

    <img class="col-md-6 col-sm-6 col-xs-12 animated fadeInLeft" src="../static/img/hero/macbook.png" alt="">

    <div class="col-md-6 col-sm-6 col-xs-12 animated fadeInRight delay-0-5">
    
    <!--p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book</p-->

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h2>输入您的问题</h2>
                <div id="custom-search-input">
                    <div class="input-group col-md-12">
                        <input id="input_query" type="text" class="form-control input-lg" placeholder="中国"/>
                        <span class="input-group-btn">
                            <button id="button_submit" class="btn btn-info btn-lg" type="button">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    </div>

</div>

</div>
</div>
</section>
<!-- 搜索 Area Section End-->


<!-- 知识 Section -->
<section id="services">
<div class="container text-center">
<div class="row">
<h1 class="title">知识</h1>
<h2 class="subtitle" id="search_title">有关中国 这些你知道吗？</h2>

<table class="table">
    <tbody id="info_body">
        <tr>
            <td>中文名称</td>
            <td>中国</td>
        </tr>
        <tr>
            <td>英文名称</td>
            <td>China</td>
        </tr>
        <tr>
            <td>简称</td>
            <td>华、夏</td>
        </tr>
        <tr>
            <td>所属洲</td>
            <td>亚洲</td>
        </tr>
        <tr>
            <td>官方语言</td>
            <td>汉语</td>
        </tr>
        <tr>
            <td>简称</td>
            <td>华、夏</td>
        </tr>
        <tr>
            <td>主要民族</td>
            <td>汉族</td>
        </tr>
        <tr>
            <td>主要宗教</td>
            <td>佛教，道教、儒教、伊斯兰教</td>
        </tr>
        <tr>
            <td>通用文字</td>
            <td>汉字</td>
        </tr>
        <tr>
            <td>代表人物</td>
            <td>炎帝、黄帝、孔子、孙中山等</td>
        </tr>
        <tr>
            <td>代表事物</td>
            <td>长城，故宫，龙，凤等</td>
        </tr>
        <tr>
            <td>文化思想</td>
            <td>诸子百家、汉服文化、唐诗宋词等</td>
        </tr>
    </tbody>
</table>


<!--div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
<div class="service-item">
<img src="../static/img/services/responsive.png" alt="">
<h3>图片结果1</h3>
</div>
</div>


<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
<div class="service-item">
<img src="../static/img/services/bs3.png" alt="">
<h3>图片结果2</h3>
</div>
</div>

<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
<div class="service-item">
<img src="../static/img/services/free.png" alt="">
<h3>图片结果3</h3>
</div>
</div-->

</div>
</div>
</section>
<!-- 知识 End -->

<!-- 图片 Section -->

<section id="portfolio">
<div class="container">
<div class="row">
<h1 class="title">图片</h1>
<h2 class="subtitle">和您的搜索相关的图片</h2>


<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="portfolio-item wow fadeInLeft" data-wow-delay=".5s">
<a href="#"><img src="../static/img/portfolio/img1.jpg" alt="" id="pic1"></a>
<div class="overlay">
<div class="icons">
<a data-lightbox="image1" href="../static/img/portfolio/img1.jpg" class="preview"><i class="fa fa-search-plus fa-4x"></i></a>
</div>
</div>
</div>
</div>


<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="portfolio-item wow fadeInLeft" data-wow-delay=".7s">
<a href="#"><img src="../static/img/portfolio/img2.jpg" alt="" id="pic2"></a>
<div class="overlay">
<div class="icons">
<a data-lightbox="image1" href="../static/img/portfolio/img2.jpg" class="preview"><i class="fa fa-search-plus fa-4x"></i></a>
</div>
</div>
</div>
</div>

<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="portfolio-item wow fadeInLeft" data-wow-delay=".9s">
<a href="#"><img src="../static/img/portfolio/img3.jpg" alt="" id="pic3"></a>
<div class="overlay">
<div class="icons">
<a data-lightbox="image1" href="../static/img/portfolio/img3.jpg" class="preview"><i class="fa fa-search-plus fa-4x"></i></a>
</div>
</div>
</div>
</div>

<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 wow fadeInRight" data-wow-delay="1.1s">
<div class="portfolio-item">
<a href="#"><img src="../static/img/portfolio/img4.jpg" alt="" id="pic4"></a>
<div class="overlay">
<div class="icons">
<a data-lightbox="image1" href="../static/img/portfolio/img4.jpg" class="preview"><i class="fa fa-search-plus fa-4x"></i></a>
</div>
</div>
</div>
</div>

<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 wow fadeInRight" data-wow-delay="1.3s">
<div class="portfolio-item">
<a href="#"><img src="../static/img/portfolio/img5.jpg" alt="" id="pic5"></a>
<div class="overlay">
<div class="icons">
<a data-lightbox="image1" href="../static/img/portfolio/img5.jpg" class="preview"><i class="fa fa-search-plus fa-4x"></i></a>
</div>
</div>
</div>
</div>

<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 wow fadeInRight" data-wow-delay="1.5s">
<div class="portfolio-item">
<a href="#"><img src="../static/img/portfolio/img6.jpg" alt="" id="pic6"></a>
<div class="overlay">
<div class="icons">
<a data-lightbox="image1" href="../static/img/portfolio/img6.jpg" class="preview"><i class="fa fa-search-plus fa-4x"></i></a>
</div>
</div>
</div>
</div>
  
</div>
</div>
</section>
<!-- 图片 End -->


<!-- 链接 Section -->
<section id="clients">
<div class="container">
<div class="row">

<h1 class="title">相关链接</h1>
<h2 class="subtitle">和您的搜索相关的网页项目</h2>

<div class="wow fadeInDown">
<!--img class="col-md-3 col-md-3 col-sm-3 col-xs-12" src="../static/img/clients/img1.png" alt="client-1">

<img class="col-md-3 col-md-3 col-sm-3 col-xs-12" src="../static/img/clients/img2.png" alt="client-2">

<img class="col-md-3 col-md-3 col-sm-3 col-xs-12" src="../static/img/clients/img3.png" alt="client-3">

<img class="col-md-3 col-md-3 col-sm-3 col-xs-12" src="../static/img/clients/img4.png" alt="client-4"-->

<table class="table" align="center">
    <tbody>
        <tr>
            <td><a href="" id="link1">中文名称</a></td>
        </tr>
        <tr>
            <td><a href="" id="link2">英文名称</a></td>
        </tr>
        <tr>
            <td><a href="" id="link3">简称</a></td>
        </tr>
        <tr>
            <td><a href="" id="link4">所属洲</a></td>
        </tr>
    </tbody>
</table>

</div>
</div>
</div>
</section>
<!-- 链接 Section End -->


<!-- Bootstrap JS -->
<script src="../static/js/bootstrap.min.js"></script>
<!-- Smooth Scroll -->
<!-- Smooth Scroll -->
<script src="../static/js/smooth-scroll.js"></script>
<script src="../static/js/lightbox.min.js"></script>
<!-- All JS plugin Triggers -->
<script src="../static/js/main.js"></script>

<script type="text/javascript">

    function isEmpty(obj) {
        for (var name in obj) {
            return false;
        }
        return true;
    };

    function addRowToTable(table, first, second) {
        var row = document.createElement("tr");
        var td1 = document.createElement("td");
        var td2 = document.createElement("td");
        td1.text() = first;
        td2.text() = second;
        row.appendChild(td1);
        row.appendChild(td2);
        table.appendChild(row);
    };

    function fillBasicInfo(my_info){
        var table_body = document.getElementById("info_body");
        //清空table
        $("#info_body").find("tr").remove();
        if (isEmpty(my_info["title"])) {
            $("#search_title").text("对不起我们未能找到您想要的知识");
        } else {
            $("#search_title").text("有关" + my_info["title"] + " 你知道吗?");
            //添加当前元素
            info_box = my_info["basic_info"];
            for(var i = 0, l = info_box.length; i < l; i++) {
                addRowToTable(table_body, info_box[i][0], info_box[i][1]);
            }
        }
    };

    function updateLink(row, link_info) {
        row.src = link_info[0];
        row.text = link_info[1];
    };

    function fillOtherLink(my_info) {
        var linkList = my_info["links"]
        updateLink(document.getElementById("link1"), linkList[0]);
        updateLink(document.getElementById("link2"), linkList[1]);
        updateLink(document.getElementById("link3"), linkList[2]);
        updateLink(document.getElementById("link4"), linkList[3]);
    };

    function updatePic (pic, url) {
        pic.src = url;
    };

    function fillPics(my_info) {
        var picList = my_info["pics"]
        updatePic(document.getElementById("pic1"), picList[0]);
        updatePic(document.getElementById("pic2"), picList[1]);
        updatePic(document.getElementById("pic3"), picList[2]);
        updatePic(document.getElementById("pic4"), picList[3]);
        updatePic(document.getElementById("pic5"), picList[4]);
        updatePic(document.getElementById("pic6"), picList[5]);
    };

    $("#button_submit").click(function(){
        var query = $("#input_query").val();
        $.get("query/"+query, function(data,status){
            alert("数据: " + data + "\n状态: " + status);
            data = JSON.parse(data)
            fillBasicInfo(data);
            fillOtherLink(data);
            fillPics(data);
        });
    });

</script>>

</body>
</html>